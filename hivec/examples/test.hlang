
// unsafe procedure unsafeFunc1 do
// 	10 10 clone
// end
// 
// 
// procedure unsafeFunc1 do
// 	10 10 clone drop drop drop
// end
// 
// 
// unsafe procedure safeFunc1 do
// 	"Hi!\n" if 0 equal do
// 		100
// 	end
// end

unsafe procedure test_func do
	"Hi!\n" if 0 equal do
		100
	end
end


procedure factorial require i64 return i64 do
	if clone 0 less do
		drop -1
	else
		clone while 1 greater do
			clone 1 subtract multiply
		end
	end
end


procedure main require i64 p64 return i64 do
	drop drop // Dropping argc and argv
	3 factorial // Returning factorial of 6
	if clone 3 equal do
		"Factorial proc works!\n" 1 1 syscall3 drop
	else
		"Factorial proc does not works!\n" 1 1 syscall3 drop
	end
end
